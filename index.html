<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Robot Seas Trader</title>

<style>
body{margin:0;font-family:Arial;background:#0b0f1a;color:#e5e7eb}
.container{max-width:1000px;margin:auto;padding:20px}
h1{text-align:center;color:#38bdf8}
.card{background:#111827;border-radius:14px;padding:20px;margin-bottom:20px}
h2{color:#facc15}

select,input,button{
width:100%;padding:10px;border-radius:10px;
border:1px solid #1f2937;background:#020617;
color:#e5e7eb;font-size:16px;margin-bottom:8px
}
button{background:#38bdf8;color:#020617;font-weight:bold;cursor:pointer}

.tabs{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:10px}
.priceTab p{margin:6px 0;padding:6px;border-bottom:1px solid #1f2937}

.badge{padding:2px 8px;border-radius:8px;font-size:12px;font-weight:bold}
.common{background:#22c55e}
.rare{background:#3b82f6}
.epico{background:#eab308}
.legendary{background:#ef4444}
.mythic{background:#a855f7}

.slot{display:grid;grid-template-columns:2fr 1fr;gap:10px}

.tradebar{width:100%;height:18px;border-radius:10px;background:#020617;overflow:hidden;margin:12px 0}
.tradebar-inner{height:100%;width:50%;background:#facc15;transition:.5s}

.result{text-align:center;font-size:20px;font-weight:bold}
.ok{color:#22c55e}
.under{color:#ef4444}
.fair{color:#facc15}

.liq-high{color:#22c55e;font-weight:bold}
.liq-mid{color:#facc15;font-weight:bold}
.liq-low{color:#ef4444;font-weight:bold}
</style>
</head>

<body>
<div class="container">
<h1>âš™ï¸ Robot Seas â€” Calculadora de Trades</h1>
<p id="marketVersion" style="text-align:center;opacity:.7;font-size:14px"></p>

<div class="card">
<h2>ğŸ’° Valores</h2>

<div class="tabs">
<button onclick="showTab('frutas')">ğŸ Frutas</button>
<button onclick="showTab('perm')">â­ Perm</button>
<button onclick="showTab('gamepass')">ğŸ® Gamepass</button>
<button onclick="showTab('tokens')">ğŸŸï¸ Tokens & Robux</button>
<button onclick="showTab('ranking')">ğŸ† Ranking</button>
</div>

<div id="frutas" class="priceTab"></div>
<div id="perm" class="priceTab" style="display:none"></div>
<div id="gamepass" class="priceTab" style="display:none"></div>
<div id="tokens" class="priceTab" style="display:none"></div>
<div id="ranking" class="priceTab" style="display:none"></div>
</div>

<div class="card">
<h2>ğŸ”„ VocÃª oferece</h2>
<div id="offerSlots"></div>
</div>

<div class="card">
<h2>ğŸ¯ VocÃª quer</h2>
<div id="wantSlots"></div>
</div>

<button onclick="calculateTrade()">Calcular Trade</button>

<div class="tradebar">
<div id="tradebar" class="tradebar-inner"></div>
</div>

<div id="result" class="result"></div>
<div id="diff" class="result"></div>

</div>

<script>
function showTab(tab){
['frutas','perm','gamepass','tokens','ranking'].forEach(t=>{
document.getElementById(t).style.display='none';
});
document.getElementById(tab).style.display='block';
}

/* VERSÃƒO DO MERCADO */
const MARKET_VERSION = "v2.2";
document.getElementById("marketVersion").innerText =
`ğŸ“¦ Mercado ${MARKET_VERSION} â€” atualizado hoje`;

/* PREÃ‡O BASE */
const baseValues={
'Flame':3125000,
'Light':5480000,
'Earth':9375000,
'Time':11250000,
'Flame (Perm)':12500000,
'Light (Perm)':21250000,
'Earth (Perm)':37250000,
'Time (Perm)':45000000,
'2x Money':2500000,
'2x Maestria':2500000,
'Tecnologic Blade':5000000,
'VIP':11250000
};

/* PREÃ‡O ATUAL */
const values={...baseValues};

/* RARIDADE */
const rarity={
'Flame':'rare',
'Light':'epico',
'Earth':'legendary',
'Time':'mythic',
'Flame (Perm)':'rare',
'Light (Perm)':'epico',
'Earth (Perm)':'legendary',
'Time (Perm)':'mythic',
'2x Money':'legendary',
'2x Maestria':'legendary',
'Tecnologic Blade':'mythic',
'VIP':'mythic'
};

/* LIQUIDEZ */
let liquidity = JSON.parse(localStorage.getItem("liquidity")) || {};

function addLiquidity(item,q){
liquidity[item]=(liquidity[item]||0)+q;
localStorage.setItem("liquidity",JSON.stringify(liquidity));
}

function showLiquidity(item){
const v=liquidity[item]||0;
if(v>=20) return `<span class="liq-high">ğŸŸ¢ Alta liquidez</span>`;
if(v>=8) return `<span class="liq-mid">ğŸŸ¡ MÃ©dia liquidez</span>`;
return `<span class="liq-low">ğŸ”´ Baixa liquidez</span>`;
}

/* TENDÃŠNCIA */
function trend(item){
const base=baseValues[item];
const cur=values[item];
const pct=((cur-base)/base)*100;
if(Math.abs(pct)>=20) return pct>0?`ğŸ“ˆ Subindo muito (${pct.toFixed(1)}%)`:`ğŸ“‰ Caindo muito (${pct.toFixed(1)}%)`;
if(pct!==0) return `â†”ï¸ PreÃ§o normal (${pct.toFixed(1)}%)`;
return `â– EstÃ¡vel`;
}

function renderPrices(){
const list=arr=>arr.map(i=>`
<p>
${i} â€” ${values[i].toLocaleString()}
<span class="badge ${rarity[i]}">${rarity[i].toUpperCase()}</span><br>
<small>Base: ${baseValues[i].toLocaleString()} | ${trend(i)}<br>
${showLiquidity(i)}</small>
</p>`).join('');

frutas.innerHTML=list(['Flame','Light','Earth','Time']);
perm.innerHTML=list(['Flame (Perm)','Light (Perm)','Earth (Perm)','Time (Perm)']);
gamepass.innerHTML=list(['2x Money','2x Maestria','Tecnologic Blade','VIP']);

tokens.innerHTML=`
<p><b>10 Tokens = 1 Robux</b></p>
<p>VIP â€” 225 Robux / 2250 Tokens</p>
<p>2x Money â€” 50 Robux / 500 Tokens</p>
<p>2x Maestria â€” 50 Robux / 500 Tokens</p>
<p>Tecnologic Blade â€” 100 Robux / 1000 Tokens</p>
`;

ranking.innerHTML=Object.keys(values)
.sort((a,b)=>values[b]-values[a])
.map((i,n)=>`<p>#${n+1} ${i} â€” ${values[i].toLocaleString()}</p>`).join('');
}
renderPrices();

/* SLOTS */
function createSlots(id){
for(let i=0;i<4;i++){
const d=document.createElement('div');
d.className='slot';
const s=document.createElement('select');
Object.keys(values).forEach(v=>s.innerHTML+=`<option>${v}</option>`);
const q=document.createElement('input');
q.type='number';q.value=0;
d.append(s,q);
document.getElementById(id).appendChild(d);
}}
createSlots('offerSlots');
createSlots('wantSlots');

function calcTotal(id){
let t=0;
[...document.getElementById(id).children].forEach(s=>{
const i=s.children[0].value;
const q=+s.children[1].value;
if(q>0){t+=values[i]*q;addLiquidity(i,q);}
});
return t;
}

function calculateTrade(){
const o=calcTotal('offerSlots');
const w=calcTotal('wantSlots');
const d=o-w;
const r=result,df=diff,bar=tradebar;

bar.style.width='50%';bar.style.background='#facc15';
r.className='result';

if(Math.abs(d)<20000){r.textContent='âš–ï¸ TRADE JUSTA';r.classList.add('fair');df.textContent='';}
else if(d<0){r.textContent='âœ… WIN';r.classList.add('ok');df.textContent=`+${Math.abs(d).toLocaleString()}`;bar.style.width='80%';bar.style.background='#22c55e';}
else{r.textContent='âŒ LOSE';r.classList.add('under');df.textContent=`-${d.toLocaleString()}`;bar.style.width='20%';bar.style.background='#ef4444';}

renderPrices();
}
</script>
</body>
</html>
